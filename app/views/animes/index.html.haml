.title-div
  %h1 Anime-List

  -# Letter list
  .letter-list.col-md-5.col-xs-12
    = link_to animes_path do
      - if params[:order_by_letter].present?
        Alle
      - else
        %u Alle

    - ('A'.. 'Z').each do |letter|
      = link_to animes_path(order_by_letter:letter) do
        - if letter == params[:order_by_letter]
          %u= letter
        - else
          = letter
        
  -# search form
  .search-form.col-md-3.col-md-offset-4.col-xs-12
    = form_tag animes_path, method:'get' do
      = text_field_tag :search, params[:search]
      = submit_tag "Search", name:nil

-# anime list
%table.table.table-striped
  %thead.anime-list-header
    = render "anime_header_index"

  %tbody.anime-list
    = render @animes

%div
  -# page navigator
  %nav.col-md-6.col-xs-12
    %ul.pagination
      %li
        - if @animes.current_page > 1
          -# tabl_params is a helper methode to whitelist the needed params to sort and order
          = link_to animes_path(table_params.merge(page: @animes.current_page-1)), aria: {label: "Previous"} do
            %span{"aria-hidden": "true"}
              &laquo;
        - else
          %span{"aria-hidden": "true"}
            &laquo;
      
      - (1..@animes.total_pages).each do |x|
        %li{class: "#{"active" if x == @animes.current_page}"}= link_to x.to_s, animes_path(table_params.merge(page: x))
      
      %li
        - if @animes.current_page < @animes.total_pages
          = link_to animes_path(table_params.merge(page: @animes.current_page+1)), aria: {label: "Next"} do
            %span{"aria-hidden": "true"}
              &raquo;
        - else
          %span{"aria-hidden": "true"}
            &raquo;

  - if user_signed_in?
    -# Import Animes
    .import-animes.col-md-4.col-md-offset-1.col-xs-12
      %h2 Import Animes
      = form_tag import_animes_path, multipart:true do
        = file_field_tag :file
        = submit_tag "Import", class:'btn btn-primary'

    -# 'Add Anime' button
    .add-anime-button.col-md-1.col-md-offset-0.col-xs-12
      = link_to 'Add Anime', new_anime_path, class:'btn btn-primary'

-# a random picture
.myPicture.col-md-1.col-md-offset-11.col-xs-12
  = link_to animes_path do
    = image_tag 'rainbow.png'

